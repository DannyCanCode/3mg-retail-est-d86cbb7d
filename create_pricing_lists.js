import { createClient } from '@supabase/supabase-js'; const supabaseUrl = process.env.SUPABASE_URL; const supabaseKey = process.env.SUPABASE_KEY; const supabase = createClient(supabaseUrl, supabaseKey); async function createPricingListsTable() { const sql = 'CREATE TABLE IF NOT EXISTS public.pricing_lists (id UUID PRIMARY KEY DEFAULT gen_random_uuid(), name TEXT NOT NULL, description TEXT, materials JSONB NOT NULL, labor JSONB NOT NULL, is_default BOOLEAN DEFAULT FALSE, created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(), updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW());'; try { const { data, error } = await supabase.rpc('pgexec', { query: sql }); if (error) { console.error('Error creating pricing_lists table:', error); } else { console.log('Successfully created pricing_lists table'); } } catch (err) { console.error('Exception:', err); } } createPricingListsTable();
